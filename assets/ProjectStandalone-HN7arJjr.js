import{j as e,r as p,u as S,b as g}from"./vendor-react-C4D4COhM.js";import{u as z,a as T,H as E,F as I,T as F}from"./Top-Dd120Vt9.js";import"./vendor-BnSrRT7l.js";import"./vendor-lottie-D8sT1JDY.js";import"./index-D0zCq0cj.js";const $=({size:a="medium",color:o="primary",text:l="Loading...",showText:d=!0,fullScreen:n=!1,overlay:s=!1,className:t=""})=>{const i=["loading-spinner",`loading-spinner--${a}`,`loading-spinner--${o}`,n&&"loading-spinner--fullscreen",s&&"loading-spinner--overlay",t].filter(Boolean).join(" "),r=()=>e.jsxs("div",{className:"loading-spinner__container",children:[e.jsx("div",{className:"loading-spinner__circle",role:"status","aria-label":l,children:e.jsx("div",{className:"loading-spinner__inner"})}),d&&e.jsx("div",{className:"loading-spinner__text","aria-live":"polite",children:l})]});return n||s?e.jsx("div",{className:i,children:e.jsx(r,{})}):e.jsx("div",{className:i,children:e.jsx(r,{})})},C=a=>e.jsx($,{size:"small",showText:!1,...a}),m=({width:a="100%",height:o="20px",borderRadius:l="4px",className:d=""})=>e.jsx("div",{className:`skeleton-loader ${d}`,style:{width:a,height:o,borderRadius:l},"aria-label":"Loading content"}),D=()=>e.jsxs("div",{className:"project-card-skeleton",children:[e.jsx(m,{height:"220px",borderRadius:"8px",className:"project-skeleton__image"}),e.jsxs("div",{className:"project-skeleton__content",children:[e.jsx(m,{height:"20px",width:"70%",className:"project-skeleton__category"}),e.jsx(m,{height:"28px",width:"90%",className:"project-skeleton__title"}),e.jsx(m,{height:"16px",width:"100%",className:"project-skeleton__desc"}),e.jsx(m,{height:"16px",width:"85%",className:"project-skeleton__desc"}),e.jsxs("div",{className:"project-skeleton__meta",children:[e.jsx(m,{height:"14px",width:"40%",className:"project-skeleton__tools"}),e.jsx(m,{height:"14px",width:"30%",className:"project-skeleton__duration"})]})]})]}),A=(a=!1)=>{const[o,l]=p.useState(a),[d,n]=p.useState(null);return{isLoading:o,error:d,startLoading:()=>{l(!0),n(null)},stopLoading:()=>{l(!1)},setLoadingError:r=>{l(!1),n(r)}}},u=({src:a,alt:o,className:l="",placeholder:d="/api/placeholder/350/200",webpSrc:n=null,avifSrc:s=null,srcSet:t=null,sizes:i=void 0,loading:r="lazy",...c})=>{const[N,f]=p.useState(!1),[y,b]=p.useState(!1),[j,w]=p.useState(!1),h=p.useRef(null);p.useEffect(()=>{const x=new IntersectionObserver(([P])=>{P.isIntersecting&&(b(!0),x.disconnect())},{threshold:.1,rootMargin:"50px"});return h.current&&x.observe(h.current),()=>x.disconnect()},[]);const L=()=>{f(!0)},_=()=>{w(!0),f(!0)},k=j||!y;return e.jsxs("div",{ref:h,className:`lazy-image-container ${l}`,...c,children:[k?e.jsx("img",{src:d,alt:o,className:`lazy-image loading ${j?"error":""}`,loading:r}):e.jsxs("picture",{children:[s&&e.jsx("source",{srcSet:s,type:"image/avif"}),n&&e.jsx("source",{srcSet:n,type:"image/webp"}),e.jsx("img",{src:a,srcSet:void 0,sizes:void 0,alt:o,className:`lazy-image ${N?"loaded":"loading"} ${j?"error":""}`,onLoad:L,onError:_,loading:r})]}),!N&&!j&&e.jsx("div",{className:"lazy-image-placeholder",children:e.jsx(C,{color:"primary",text:"Loading image..."})}),j&&e.jsx("div",{className:"lazy-image-error",children:e.jsx("span",{children:"图片加载失败"})})]})},v=a=>a.toLowerCase().trim().replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,""),R=a=>(a||"").split(/[\u00B7\u2022,\/|]/).map(o=>o.trim()).filter(Boolean);function B(){const{t:a}=z(),{bigProjects:o}=T(),{projectName:l}=S(),{isLoading:d,stopLoading:n}=A(!0);if(p.useEffect(()=>{const s=setTimeout(()=>{n()},1500);return()=>clearTimeout(s)},[n]),l){const s=o.projects.find(t=>v(t.projectName)===l);if(s)return e.jsxs("div",{className:"project-page-container",children:[e.jsxs("nav",{className:"project-breadcrumb",children:[e.jsx(g,{to:"/projects",children:a("projectPage.breadcrumbProjects","Projects")}),e.jsx("span",{className:"sep",children:"/"}),e.jsx("span",{children:s.projectName})]}),e.jsxs("div",{className:"project-text-summary",children:[e.jsx("h1",{className:"project-title",children:s.projectName}),(s.category||s.tools||s.duration)&&e.jsxs("div",{className:"project-meta-slab",children:[s.category&&e.jsx("div",{className:"meta-row meta-row--domains",children:R(s.category).map((t,i)=>e.jsx("span",{className:"chip chip--domain",children:t},i))}),(s.tools||s.duration)&&e.jsxs("div",{className:"meta-row meta-row--tools",children:[s.tools&&s.tools.map((t,i)=>e.jsx("span",{className:"chip chip--tool",children:t},i)),s.duration&&e.jsx("span",{className:"chip chip--year","aria-label":"Project duration or year",children:s.duration})]})]}),s.projectDesc&&e.jsx("p",{className:"project-description",children:s.projectDesc}),Array.isArray(s.footerLink)&&s.footerLink.some(t=>/^https?:\/\//.test((t==null?void 0:t.url)||""))&&e.jsx("div",{className:"project-links",children:s.footerLink.filter(t=>/^https?:\/\//.test((t==null?void 0:t.url)||"")).map((t,i)=>e.jsx("a",{className:"project-link",href:t.url,target:"_blank",rel:"noreferrer",children:t.name},i))}),Array.isArray(s.sections)&&s.sections.filter(t=>((t==null?void 0:t.title)||"").trim().toLowerCase()!=="overview").length>0&&e.jsx("div",{className:"project-sections",children:s.sections.filter(t=>((t==null?void 0:t.title)||"").trim().toLowerCase()!=="overview").map((t,i)=>e.jsxs("section",{className:"text-section",children:[e.jsx("h3",{className:"section-title",children:t.title}),t.paragraphs&&t.paragraphs.map((r,c)=>e.jsx("p",{children:r},c)),t.bullets&&t.bullets.length>0&&e.jsx("ul",{children:t.bullets.map((r,c)=>e.jsx("li",{children:r},c))}),t.images&&t.images.length>0&&e.jsx("div",{className:"case-gallery",children:t.images.map((r,c)=>e.jsx(u,{className:"case-img",src:r.src,alt:r.alt||s.projectName},c))})]},i))})]}),e.jsxs("div",{className:"project-detail-content",children:[s.image&&e.jsx("div",{className:"project-image-container",children:e.jsx(u,{className:"project-image contain-fit",src:s.image,alt:s.projectName,placeholder:"/api/placeholder/1720/1080"})}),s&&s.projectName==="ZenFlow (Processing)"&&e.jsxs("div",{className:"interactive-embed",style:{margin:"30px 0"},children:[e.jsx("iframe",{title:"ZenFlow Interactive",src:"/portfolio/zenflow/index.html",loading:"lazy",style:{width:"100%",height:"720px",border:0,borderRadius:"12px",background:"#000"}}),e.jsx("p",{style:{marginTop:10,fontSize:14,color:"#7f8c8d"},children:a("projectPage.zenflowTip")})]}),s&&s.projectName==="Sandboxie UI Refresh"&&e.jsx("div",{style:{position:"relative",paddingTop:"max(60%,324px)",width:"100%",height:0,marginTop:24},children:e.jsx("iframe",{title:"Sandboxie Flipbook",style:{position:"absolute",border:"none",width:"100%",height:"100%",left:0,top:0},src:"https://online.fliphtml5.com/geigd/mqtp/",loading:"lazy",allowFullScreen:!0})}),s&&s.projectName==="Miltons Philosophy"&&e.jsx("div",{style:{position:"relative",paddingTop:"max(60%,324px)",width:"100%",height:0,marginTop:24},children:e.jsx("iframe",{title:"Miltons Philosophy Flipbook",style:{position:"absolute",border:"none",width:"100%",height:"100%",left:0,top:0},src:"https://online.fliphtml5.com/klnrl/nbch/",loading:"lazy",allowFullScreen:!0})})]})]})}return e.jsxs("div",{className:"project-page-container",children:[e.jsxs("div",{className:"project-hero",children:[e.jsx("h1",{className:"project-main-title",children:a("projectPage.listTitle","Case Studies & Technical Projects")}),e.jsx("p",{className:"project-subtitle",children:a("projectPage.listSubtitle","Deep dives into my design process, research methodologies, and technical implementations")})]}),e.jsx("div",{className:"project-list",children:d?Array.from({length:4}).map((s,t)=>e.jsx(D,{},t)):o.projects.length>0?o.projects.map((s,t)=>{var r,c;const i=((c=(r=s.footerLink)==null?void 0:r[0])==null?void 0:c.url)||`/projects/${v(s.projectName)}`;return e.jsxs("div",{className:"project-card clickable",children:[e.jsxs(g,{to:i,className:"project-image-container",children:[e.jsx(u,{className:"project-image contain-fit",src:s.thumbnail||s.image,alt:s.projectName,placeholder:"/api/placeholder/1720/1080"}),s.category&&e.jsx("div",{className:"project-category",children:s.category})]}),e.jsxs("div",{className:"project-info",children:[e.jsx("h2",{className:"project-card-title",children:e.jsx(g,{to:i,children:s.projectName})}),e.jsx("p",{className:"project-description",children:s.projectDesc}),s.tools&&e.jsxs("div",{className:"project-tools",children:[e.jsx("strong",{children:a("projectPage.tools","Tools:")})," ",s.tools.join(", ")]}),s.duration&&e.jsxs("div",{className:"project-duration",children:[e.jsx("strong",{children:a("projectPage.duration","Duration:")})," ",s.duration]})]})]},t)}):e.jsx("div",{className:"no-projects-found",children:a("projectPage.noProjects","No projects found.")})})]})}function O(){return e.jsxs("div",{className:"project-standalone-wrapper",children:[e.jsx(E,{}),e.jsx(B,{}),e.jsx(I,{}),e.jsx(F,{})]})}export{O as default};
